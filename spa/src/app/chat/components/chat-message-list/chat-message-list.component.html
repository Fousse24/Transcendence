<div class="w-full flex flex-column">
  <div *ngIf="roomId">
    <button
      (click)="leaveChannel(roomId)"
      pButton
      type="button"
      label="Leave"
      icon="pi pi-power-off"
    ></button>
    <div *ngIf="user?.isOwner">
      <button
        (click)="changePassword(roomId)"
        pButton
        type="button"
        label="Change password"
      ></button>
    </div>
  </div>
  <div
    #messages
    class="h-full flex flex-column-reverse mx-6 mt-6 overflow-y-auto"
  >
    <span *ngFor="let message of chatMessages">
      <app-chat-message
        [blockedUsers]="blockedUsers"
        [message]="message"
      ></app-chat-message>
    </span>
  </div>
  <div *ngIf="roomId" class="flex">
    <div class="w-full flex flex-row my-3 mx-3">
      <input
        class="w-full"
        type="text"
        placeholder="Message"
        pInputText
        [(ngModel)]="message"
        (keypress)="sendMessage($event)"
      />
    </div>
    <div class="my-3 mr-3">
      <button
        (click)="sendMessage(undefined)"
        pButton
        type="button"
        icon="pi pi-send"
      ></button>
    </div>
  </div>
</div>
