<div class="card">
	<p-table #dt1 [value]="activeMatches" dataKey="id"
			[rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading"
			[paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
			[globalFilterFields]="['match.p1.name','match.p2.name','timePlayed','date']">
			<ng-template pTemplate="caption">
					<div class="flex">
							<button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>
					</div>
			</ng-template>
			<ng-template pTemplate="header">
					<tr>
							<th  >
									<div class="flex justify-content-center align-items-center">
											ID
											<p-columnFilter type="text" field="gameId" display="menu"></p-columnFilter>
									</div>
							</th>
							<th  [pSortableColumn]="'p1.name'">
									<div class="flex justify-content-center align-items-center">
											Player 1
											<p-columnFilter type="text" field="player1" display="menu"></p-columnFilter>
											<p-sortIcon [field]=""></p-sortIcon>
									</div>
							</th>
							<th  [pSortableColumn]="'p2.name'">
								<div class="flex justify-content-center align-items-center">
										Player 2
										<p-columnFilter type="text" field="player1" display="menu"></p-columnFilter>
										<p-sortIcon [field]=""></p-sortIcon>
								</div>
							</th>
							<th >
									<div class="flex justify-content-center align-items-center">
											Score
											<p-columnFilter field="score" display="menu"></p-columnFilter>
									</div>
							</th>
							<th  [pSortableColumn]="'timePlayed'">
									<div class="flex justify-content-center align-items-center" >
											Time
											<p-columnFilter type="text" field="timePlayed" display="menu"></p-columnFilter>
									</div>
							</th>
							<th  [pSortableColumn]="'date'">
								<div class="flex justify-content-center align-items-center">
									Date
									<p-columnFilter type="date" field="date" display="menu"></p-columnFilter>
									<p-sortIcon [field]=""></p-sortIcon>
								</div>
							</th>
					</tr>
			</ng-template>
			<ng-template pTemplate="body" let-match>
					<tr>
							<td>
									{{match.id}}
							</td>
							<td [ngClass]="match.winner === 'PLAYER1'? 'matchWinner' : ''">
								<div class="flex justify-content-center align-items-center">
									<img [alt]="match.p1.name" [src]="match.p1.img" width="30">
									<span class="image-text" ng-class="match.winner === 'PLAYER1' ? 'matchWinner' : 'matchLoser'">{{match.p1.name}}</span>
								</div>
							</td>
							<td [ngClass]="match.winner === 'PLAYER2'? 'matchWinner' : ''">
								<div class="flex justify-content-center align-items-center">
									<img [alt]="match.p2.name" [src]="match.p2.img" width="30">
									<span class="image-text">{{match.p2.name}}</span>
								</div>
							</td>
							<td>
								<div class="flex justify-content-center align-items-center">
									{{match.score.p1}} | {{match.score.p2}}
								</div>
							</td>
							<td>
								<div class="flex justify-content-center align-items-center">
									{{match.timeString}}
								</div>
							</td>
							<td class="text-center">
								<div class="flex justify-content-center align-items-center">
									{{match.date}}
								</div>
							</td>
					</tr>
			</ng-template>
			<ng-template pTemplate="emptymessage">
					<tr>
							<td colspan="7">No customers found.</td>
					</tr>
			</ng-template>
	</p-table>
</div>
